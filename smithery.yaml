name: website-info-mcp
version: 1.0.0
description: An MCP server for extracting information from websites using AgentQL API

# Environment variables
env:
  - name: AGENTQL_API_KEY
    secret: true

# Server configuration
port: 3000

# MCP tools
tools:
  - name: fetch_website
    description: "Fetches the entire content of a website"
    
  - name: extract_content
    description: "Extracts specific content from a website using CSS selectors"

# MCP resources
resources:
  - name: "website://info"
    description: "Provides information from websites"

startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      AGENTQL_API_KEY:
        type: string
        description: "API key for AgentQL service for enhanced web scraping capabilities"
    required: []
  commandFunction: |
    function getCommand(config) {
      const env = { 
        ...process.env,
        PORT: "3000"
      };
      
      if (config.AGENTQL_API_KEY) {
        env.AGENTQL_API_KEY = config.AGENTQL_API_KEY;
      }
      
      return {
        command: "bundle",
        args: ["exec", "ruby", "server.rb"],
        env
      };
    }

build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "." 